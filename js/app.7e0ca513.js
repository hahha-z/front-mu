(function(){"use strict";var t={5754:function(t,s,e){var i=e(6848),a=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("MusicHeader"),s("MusicNav"),s("router-view",{staticClass:"view"})],1)},n=[],r=function(){var t=this;t._self._c;return t._m(0)},c=[function(){var t=this,s=t._self._c;return s("header",{staticClass:"music-header"},[s("div",{staticClass:"music-logo"},[s("a",{attrs:{href:"/#"}},[s("img",{attrs:{src:"https://s1.aigei.com/prevfiles/33676840147b4906bed8bf21e2d37659.png?e=2051020800&token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:Z_JJnmQ_G98RuPoWELpLBr3_f3s=",alt:""}})]),s("h2",[t._v("网易云音乐")])])])}],l={name:"MusicHeader"},o=l,u=e(1656),d=(0,u.A)(o,r,c,!1,null,"29e15cbe",null),h=d.exports,g=function(){var t=this,s=t._self._c;return s("div",{staticClass:"left-nav"},[s("ul",{staticClass:"nav-list"},t._l(t.$router.options.routes,function(e,i){return s("li",{key:i,staticClass:"nav-item",class:{active:t.$route.path===e.path}},[s("router-link",{staticClass:"nav-link",attrs:{to:e.path}},[s("span",{staticClass:"nav-text"},[t._v(t._s(e.meta.title))])])],1)}),0)])},m=[],v={name:"MusicNav"},p=v,f=(0,u.A)(p,g,m,!1,null,"1d9788b7",null),C=f.exports,_={name:"App",components:{MusicHeader:h,MusicNav:C}},y=_,b=(0,u.A)(y,a,n,!1,null,null,null),L=b.exports,A=e(6178),S=function(){var t=this,s=t._self._c;return s("div",{staticClass:"outer"},[s("SlideShow"),s("ReList")],1)},k=[],x=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"slide-show"}},[s("h1",{staticClass:"slide-title"},[t._v("热歌推荐")]),s("div",{staticClass:"silde-list"},t._l(t.imgList,function(e,i){return s("img",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex===i,expression:"currentIndex === index"}],key:i,staticClass:"slide-img",attrs:{src:e,alt:"轮播图"}})}),0),s("div",{staticClass:"dots"},t._l(t.imgList,function(e,i){return s("span",{key:i,class:{active:t.currentIndex===i},on:{click:function(s){return t.handleDotClick(i)}}})}),0),s("div",{staticClass:"prev-change change",on:{click:t.prev}}),s("div",{staticClass:"next-change change",on:{click:t.next}})])},w=[],$={name:"SlideShow",data(){return{imgList:["https://p5.music.126.net/obj/wonDlsKUwrLClGjCm8Kx/61473954440/9f1a/70ae/438e/ad20dbb67bf8a9a8331586ce4c8ceb3f.jpg","https://p5.music.126.net/obj/wonDlsKUwrLClGjCm8Kx/61481253940/0047/317b/6d2f/ec72afc099328f11c65517a0c24e4bc8.jpg","https://p5.music.126.net/obj/wonDlsKUwrLClGjCm8Kx/61476071540/7359/c010/12d5/59fffe3ba4b283265fbb921a759b6fcc.jpg","https://p5.music.126.net/obj/wonDlsKUwrLClGjCm8Kx/61414315051/320f/2f71/ade1/b6c7c562e0e2b9be398886c8e25156df.jpg","https://p5.music.126.net/obj/wonDlsKUwrLClGjCm8Kx/61474753465/1327/8e52/889a/1a08fb773880c5d659c15cb6ba7ef562.jpg"],currentIndex:0,timer:null}},mounted(){this.startTimer(),this.$el.addEventListener("mouseenter",this.stopTimer),this.$el.addEventListener("mouseleave",this.startTimer)},beforeDestroy(){this.stopTimer()},methods:{prev(){this.currentIndex=(this.currentIndex-1+this.imgList.length)%this.imgList.length},next(){this.currentIndex=(this.currentIndex+1)%this.imgList.length},handleDotClick(t){this.currentIndex=t},startTimer(){this.timer=setInterval(()=>{this.next()},2e3)},stopTimer(){clearInterval(this.timer)}}},T=$,j=(0,u.A)(T,x,w,!1,null,"58a2a4bc",null),I=j.exports,N=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"rec-outer"}},[s("h1",{staticClass:"rec-title"},[t._v(" 精选歌单 ")]),s("ul",{staticClass:"rec-list"},t._l(t.playLists,function(e,i){return s("li",{key:i,staticClass:"rec-music"},[s("img",{staticClass:"rec-img",attrs:{src:e.imgUrl,alt:"精品歌单"}}),s("h4",{staticClass:"rec-songname"},[t._v(t._s(e.songName))]),s("span",{staticClass:"rec-nickname"},[t._v(t._s(e.autorName))])])}),0)])},M=[],O=(e(8111),e(1701),e(4373)),D={name:"ReList",data(){return{playLists:[]}},created(){this.fetchPlayLists()},methods:{async fetchPlayLists(){try{const t=await O.A.get("https://apis.netstart.cn/music/top/playlist",{params:{limit:20,order:"hot"}}),s=t.data.playlists;this.playLists=s.map(t=>({imgUrl:t.coverImgUrl,songName:t.name,autorName:t.creator.nickname}))}catch(t){console.error("请求失败",t)}}}},U=D,F=(0,u.A)(U,N,M,!1,null,"4426edf2",null),G=F.exports,K={name:"RecommendMusic",components:{SlideShow:I,ReList:G}},P=K,B=(0,u.A)(P,S,k,!1,null,"a0ea1e42",null),H=B.exports,q=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"outer"}},[s("CategoriesList"),s("CatList")],1)},R=[],E=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"cat-all"}},[s("h1",{staticClass:"cat-title"},[t._v("歌单分类：")]),s("div",{staticClass:"cat-music"},[s("h2",{staticClass:"ul-title"},[t._v("歌曲风格：")]),s("ul",{staticClass:"cat-ul"},[s("li",{staticClass:"all-music cat-li",class:{active:-1===t.currentActive},on:{click:t.expressAndGetAll}},[s("a",{staticClass:"cat-a",attrs:{href:"javascript:;"}},[t._v("全部歌单")])]),t._l(t.catList,function(e,i){return s("li",{key:i,staticClass:"cat-li",class:{active:t.currentActive===i},on:{click:function(s){return t.expressAndGet(i,e.cat)}}},[s("a",{staticClass:"cat-a",attrs:{href:"javascript:;"}},[t._v(t._s(e.cat))])])})],2)])])},z=[],J={name:"CategoriesList",data(){return{catList:[],currentActive:-1,category:"全部歌单"}},created(){this.fetchCatLists()},methods:{async fetchCatLists(){try{const t=await O.A.get("https://apis.netstart.cn/music/playlist/catlist"),s=t.data.sub.slice(0,30);console.log(s),this.catList=s.map(t=>({cat:t.name}))}catch(t){console.error("请求失败",t)}},expressAndGetAll(){this.currentActive=-1,this.category="全部歌单",this.$bus.$emit("sendCat",this.category)},expressAndGet(t,s){this.currentActive=t,this.category=s,this.$bus.$emit("sendCat",this.category)}}},Y=J,Z=(0,u.A)(Y,E,z,!1,null,"a2a6db86",null),Q=Z.exports,W=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"cat-outer"}},[t.isLoading?s("h2",{staticClass:"cat-if"},[t._v("正在加载中...请稍后")]):t.catLists.length>0?s("ul",{staticClass:"cat-list"},t._l(t.catLists,function(e,i){return s("li",{key:i,staticClass:"cat-music"},[s("img",{staticClass:"cat-img",attrs:{src:e.imgUrl,alt:"精品歌单"}}),s("h4",{staticClass:"cat-songname"},[t._v(t._s(e.songName))]),s("span",{staticClass:"cat-nickname"},[t._v(t._s(e.autorName))])])}),0):t._e()])},X=[],V={name:"CatList",data(){return{catLists:[],cat:"全部歌单",isLoading:!0}},mounted(){this.$bus.$on("sendCat",t=>{this.cat=t}),this.fetchCatLists()},beforeDestroy(){this.$bus.$off("sendCat")},methods:{async fetchCatLists(){this.isLoading=!0;try{const t=await O.A.get("https://apis.netstart.cn/music/top/playlist",{params:{limit:20,order:"hot",cat:this.cat}}),s=t.data.playlists;this.catLists=s.map(t=>({imgUrl:t.coverImgUrl,songName:t.name,autorName:t.creator.nickname}))}catch(t){console.error("请求失败",t)}finally{this.isLoading=!1}}},watch:{cat(){this.fetchCatLists()}}},tt=V,st=(0,u.A)(tt,W,X,!1,null,"2c8afb4a",null),et=st.exports,it={name:"MusicCategories",components:{CategoriesList:Q,CatList:et}},at=it,nt=(0,u.A)(at,q,R,!1,null,"301332a3",null),rt=nt.exports,ct=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"outer"}},[t.isSingleSinger?s("SingleSinger",{attrs:{singer:t.currentSinger,onToggleFavorite:t.handleToggleFavorite,sinName:t.sinName,authorName:t.authorName},on:{isBack:t.isBack}}):s("div",{attrs:{id:"inner"}},[s("SingerList"),s("SinList",{on:{isDeeper:t.isDeeper,sendData:t.receiveData}})],1)],1)},lt=[],ot=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"sin-outer"}},[t.isLoading?s("h2",{staticClass:"cat-if"},[t._v("正在加载中...请稍后")]):t.sinLists.length>0?s("ul",{staticClass:"sin-list"},t._l(t.sinLists,function(e){return s("li",{key:e.id,staticClass:"sin-music"},[s("img",{staticClass:"sin-img",attrs:{src:e.imgUrl,alt:"歌手"},on:{click:function(s){return t.handleSinger(e.id,e.imgUrl,e.sinName)}}}),s("h4",{staticClass:"sin-songname",on:{click:function(s){return t.handleSinger(e.id)}}},[t._v(" "+t._s(e.sinName)+" ")])])}),0):t._e()])},ut=[],dt={name:"SinList",data(){return{sinLists:[],sinType:-1,sinArea:-1,isLoading:!0}},created(){this.$bus.$on("sendType",t=>{this.sinType=t}),this.$bus.$on("sendArea",t=>{this.sinArea=t}),this.fetchSingers()},beforeDestroy(){this.$bus.$off("sendType"),this.$bus.$off("sendArea")},watch:{sinType(){this.fetchSingers()},sinArea(){this.fetchSingers()}},methods:{async fetchSingers(){this.isLoading=!0;try{const t=await O.A.get("https://apis.netstart.cn/music/artist/list",{params:{type:this.sinType,area:this.sinArea,initial:"b",limit:20}}),s=t.data.artists;this.sinLists=s.map(t=>({sinName:t.name,imgUrl:t.picUrl,id:t.id}))}catch(t){console.error("请求失败",t)}finally{this.isLoading=!1}},handleSinger(t,s,e){this.$bus.$emit("sendId",t),this.$emit("isDeeper"),this.$emit("sendData",s,e)}}},ht=dt,gt=(0,u.A)(ht,ot,ut,!1,null,"173c40ba",null),mt=gt.exports,vt=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"singer-outer"}},[s("h1",{staticClass:"singer-h1"},[t._v("歌手分类")]),s("div",{staticClass:"singer singer-first"},[s("span",{staticClass:"singer-span"},[t._v("歌手:")]),s("ul",{staticClass:"singer-ul"},t._l(t.singerLists,function(e,i){return s("li",{key:i,staticClass:"singer-li",class:{active:t.currentActiveOne===i},on:{click:function(s){return t.fetchOne(e.type,i)}}},[s("a",{staticClass:"singer-a",attrs:{href:"javascript:;"}},[t._v(t._s(e.singerCat))])])}),0)]),s("div",{staticClass:"singer"},[s("span",{staticClass:"singer-span"},[t._v("地区:")]),s("ul",{staticClass:"singer-ul"},t._l(t.areaLists,function(e,i){return s("li",{key:i,staticClass:"singer-li",class:{active:t.currentActiveTwo===i},on:{click:function(s){return t.fetchTwo(e.area,i)}}},[s("a",{staticClass:"singer-a",attrs:{href:"javascript:;"}},[t._v(t._s(e.areaCat))])])}),0)])])},pt=[],ft={name:"SingerList",data(){return{singerLists:[{type:-1,singerCat:"全部"},{type:1,singerCat:"男歌手"},{type:2,singerCat:"女歌手"},{type:3,singerCat:"乐队"}],areaLists:[{area:-1,areaCat:"全部"},{area:7,areaCat:"华语"},{area:8,areaCat:"日本"},{area:16,areaCat:"韩国"},{area:96,areaCat:"欧美"},{area:0,areaCat:"其他"}],currentActiveOne:0,currentActiveTwo:0}},methods:{fetchOne(t,s){this.currentActiveOne=s,this.$bus.$emit("sendType",t)},fetchTwo(t,s){this.currentActiveTwo=s,this.$bus.$emit("sendArea",t)}}},Ct=ft,_t=(0,u.A)(Ct,vt,pt,!1,null,"683fe3a1",null),yt=_t.exports,bt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"singer-card"},[s("div",{staticClass:"singer-info"},[s("img",{staticClass:"singer-avatar",attrs:{src:t.singer.avatar,alt:t.singer.name}}),s("div",{staticClass:"singer-details"},[s("h3",{staticClass:"singer-name"},[t._v(t._s(t.sinName))]),s("p",{staticClass:"singer-desc"},[t._v(t._s(t.singer.description))])])]),s("div",{staticClass:"song-list"},t._l(t.singer.songs,function(e,i){return s("div",{key:i,staticClass:"song-item"},[s("div",{staticClass:"song-info-left"},[s("p",{staticClass:"song-name"},[t._v(t._s(e.name))]),s("p",{staticClass:"song-author"},[t._v(t._s(t.authorName))])]),s("div",{staticClass:"favorite-btn",class:{collected:t.isCollected(e.songId)},on:{click:function(s){return t.toggleFavorite(e,i)}}},[t._v(" ❤ ")])])}),0),s("div",[s("button",{staticClass:"to-back",on:{click:t.Back}},[t._v("返回歌手分类页")])])])},Lt=[],At=(e(3579),e(3518)),St={name:"SingleSinger",props:{sinName:{type:String,required:!0},authorName:{type:String,required:!0},singer:{type:Object,required:!0,default:()=>({avatar:"",name:"未知歌手",description:"暂无介绍",songs:[]})},onToggleFavorite:{type:Function,require:!0}},computed:{...(0,At.aH)(["collectedMusic"])},methods:{toggleFavorite(t,s){this.onToggleFavorite(s),console.log(t),this.isCollected(t.songId)?this.removeCollect(t.songId):this.addCollect(t)},Back(){this.$emit("isBack")},...(0,At.PY)(["addCollect","removeCollect"]),isCollected(t){return this.collectedMusic.some(s=>s.songId===t)}}},kt=St,xt=(0,u.A)(kt,bt,Lt,!1,null,"07c78998",null),wt=xt.exports,$t={name:"TheSingers",components:{SinList:mt,SingerList:yt,SingleSinger:wt},data(){return{sinName:"",authorName:"",singerId:null,isSingleSinger:!1,currentSinger:{avatar:"http://example.com/zhou.jpg",name:"周杰伦",description:"流行音乐歌手",songs:[]}}},mounted(){this.$bus.$on("sendId",t=>{this.singerId=t})},beforeDestroy(){this.$bus.$off("sendId")},methods:{handleToggleFavorite(t){const s=[...this.currentSinger.songs];s[t].isFavorate=!s[t].isFavorate,this.currentSinger={...this.currentSinger,songs:s}},async ToSingleSinger(t){try{const s=await O.A.get("https://apis.netstart.cn/music/artist/top/song",{params:{id:Number(t)}}),e=s.data.songs;console.log(e),this.currentSinger.songs=e.map(t=>({name:t.name,isFavorate:!1,songId:t.no}))}catch(s){console.error("请求失败",s)}},isDeeper(){this.isSingleSinger=!0},isBack(){this.isSingleSinger=!1},receiveData(t,s){this.sinName=s,this.currentSinger.avatar=t,console.log(t,s),this.authorName=s}},watch:{singerId(t){this.ToSingleSinger(t)}}},Tt=$t,jt=(0,u.A)(Tt,ct,lt,!1,null,"104c904e",null),It=jt.exports,Nt=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"outer"}},[s("LoveList")],1)},Mt=[],Ot=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"music-list"}},[s("div",{staticClass:"list-header"},[s("h1",[t._v("我的喜欢")]),s("p",[t._v("共 "+t._s(t.collectedMusic.length)+" 首歌曲")])]),0===t.collectedMusic.length?s("div",{staticClass:"empty"},[t._v(" 暂无喜欢的歌曲 ")]):s("ul",t._l(t.collectedMusic,function(e){return s("li",{key:e.songId,staticClass:"song-item"},[s("div",{staticClass:"song-info"},[s("div",{staticClass:"song-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"singer"},[t._v(t._s(e.singer))])]),s("button",{staticClass:"like-btn",on:{click:function(s){return t.handleLike(e)}}},[t._v(" ❤ ")])])}),0)])},Dt=[],Ut={name:"LoveList",computed:{...(0,At.aH)(["collectedMusic"])},methods:{...(0,At.PY)(["addCollect","removeCollect"]),handleLike(t){confirm("你确定要取消喜欢这首歌吗？")&&this.removeCollect(t.songId)}}},Ft=Ut,Gt=(0,u.A)(Ft,Ot,Dt,!1,null,"2dea848e",null),Kt=Gt.exports,Pt={name:"MyLove",components:{LoveList:Kt}},Bt=Pt,Ht=(0,u.A)(Bt,Nt,Mt,!1,null,"1e0473b7",null),qt=Ht.exports,Rt=new A.Ay({routes:[{path:"/",redirect:"/recommendMusic",meta:{title:""}},{path:"/recommendMusic",component:H,meta:{title:"个性推荐"}},{path:"/musicCategories",component:rt,meta:{title:"歌单分类"}},{path:"/theSingers",component:It,meta:{title:"歌手分类"}},{path:"/myLove",component:qt,meta:{title:"我的喜欢"}}]});e(4114),e(2489);i.Ay.use(At.Ay);var Et=new At.Ay.Store({state:{collectedMusic:[]},mutations:{addCollect(t,s){const e=t.collectedMusic.some(t=>t.songId===s.songId);e||t.collectedMusic.push(s)},removeCollect(t,s){t.collectedMusic=t.collectedMusic.filter(t=>t.songId!==s)}}});i.Ay.config.productionTip=!1,i.Ay.use(A.Ay),new i.Ay({render:t=>t(L),router:Rt,store:Et,beforeCreate(){i.Ay.prototype.$bus=this}}).$mount("#app")}},s={};function e(i){var a=s[i];if(void 0!==a)return a.exports;var n=s[i]={exports:{}};return t[i].call(n.exports,n,n.exports,e),n.exports}e.m=t,function(){var t=[];e.O=function(s,i,a,n){if(!i){var r=1/0;for(u=0;u<t.length;u++){i=t[u][0],a=t[u][1],n=t[u][2];for(var c=!0,l=0;l<i.length;l++)(!1&n||r>=n)&&Object.keys(e.O).every(function(t){return e.O[t](i[l])})?i.splice(l--,1):(c=!1,n<r&&(r=n));if(c){t.splice(u--,1);var o=a();void 0!==o&&(s=o)}}return s}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[i,a,n]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};e.O.j=function(s){return 0===t[s]};var s=function(s,i){var a,n,r=i[0],c=i[1],l=i[2],o=0;if(r.some(function(s){return 0!==t[s]})){for(a in c)e.o(c,a)&&(e.m[a]=c[a]);if(l)var u=l(e)}for(s&&s(i);o<r.length;o++)n=r[o],e.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return e.O(u)},i=self["webpackChunkvue_music"]=self["webpackChunkvue_music"]||[];i.forEach(s.bind(null,0)),i.push=s.bind(null,i.push.bind(i))}();var i=e.O(void 0,[504],function(){return e(5754)});i=e.O(i)})();
//# sourceMappingURL=app.7e0ca513.js.map